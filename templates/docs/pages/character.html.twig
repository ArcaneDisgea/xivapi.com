{% extends "docs/index.html.twig"  %}
{% import "docs/macros.html.twig" as docs %}
{% set section = 9 %}


{% block doc %}

    <h1>Character</h1>

    <p>
        Search and retrieve character data from The Lodestone. Providing useful information
        such as character profile data, minions and mounts obtained, achievements obtained and their relative
        dates. Character friends, their free company, pvp team and much more!
    </p>

    <br><br>

    {# Search #}
    {{ docs.api('/character/search', '/character/search?name=[name]&server=[server]', 'search') }}
    <p>
        Search for a character on **The Lodestone**. This does not search XIVAPI but instead
        it goes directly to lodestone so the response will be "real-time". Responses are cached for 1 hour,
        it is important to know that Lodestone has a ~6 hour varnish and CDN cache.
    </p>

    {{ docs.commonParamsSearch() }}

    {{ docs.gap() }}

    {# GET #}
    {{ docs.api('/character/[lodestone_id]', '/character/730968', 'character') }}
    <p>
        Get Character data, due to the nature of availability on the service this endpoint
        will return either populated data or nothing, you will have to check the <code>Info</code> response to
        see the current state. If the character does not exist on XIVAPI then this first request will
        return the state value 1 and the character will be added within the next few minutes. Query
        the endpoint again after a few minutes and it should contain data.
    </p>

    <h4>Params</h4>

    <table class="param-table">
        <thead>
        <tr>
            <th width="25%">Param</th>
            <th width="75%">Description</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td>extended</td>
            <td>If set to 1, the API will return more data in the response by extending out the data IDs to useful objects.</td>
        </tr>
        <tr>
            <td>data</td>
            <td>

                <p>By default only the `Character` data will return, you can request more data using the `data` query.</p>

                <h6>data</h6>
                <code>
                    {{ app.request.getSchemeAndHttpHost() }}/character/730968?data=AC,FR,FC,FCM,PVP
                </code>
                <p>Pass a long a comma separated list of codes that relate to specific data sets you would like
                    to fetch, these are as follows:</p>

                <table class="mini-table param-table">
                    <tbody>
                    <tr>
                        <td>AC</td>
                        <td>Achievements</td>
                    </tr>
                    <tr>
                        <td>FR</td>
                        <td>Friends List</td>
                    </tr>
                    <tr>
                        <td>FC</td>
                        <td>Free Company (if added to the system)</td>
                    </tr>
                    <tr>
                        <td>FCM</td>
                        <td>Free Company Members (if added to the system)</td>
                    </tr>
                    <tr>
                        <td>PVP</td>
                        <td>PVP Team (if added to the system)</td>
                    </tr>
                    </tbody>
                </table>

            </td>
        </tr>
        </tbody>
    </table>

{% endblock %}
