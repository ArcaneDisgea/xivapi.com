{% extends "base.html.twig"  %}

{% block title %}Admin - XIVAPI{% endblock %}

{% block body %}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js"></script>

    <div class="account">
        <h1>Companion Error Rate</h1>
        <div style="width: 100%; height: 250px;">
            <canvas id="myChart" width="400" height="250"></canvas>
        </div>
        <script>
            let ctx = document.getElementById('myChart').getContext('2d');
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: {{ errorGraph.keys|json_encode|raw }},
                    datasets: [{
                        label: 'Errors over the hours',
                        data: {{ errorGraph.values|json_encode|raw }},
                        borderColor: 'rgb(244, 209, 66)',
                        backgroundColor: 'rgba(244, 209, 66, 0.3)',
                        borderWidth: 2,
                        pointRadius: 0,
                        lineTension: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    legend: {
                        display: false
                    },
                    tooltips: {
                        enabled: true,
                    },
                    scales: {
                        yAxes: [{
                            ticks: {
                                beginAtZero: true
                            }
                        }]
                    }
                }
            });
        </script>
    </div>

{% endblock %}
